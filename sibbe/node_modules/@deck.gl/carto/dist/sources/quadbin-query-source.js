/* eslint-disable camelcase */
import { DEFAULT_AGGREGATION_RES_LEVEL_QUADBIN } from "../constants.js";
import { baseSource } from "./base-source.js";
export const quadbinQuerySource = async function (options) {
    const { aggregationExp, aggregationResLevel = DEFAULT_AGGREGATION_RES_LEVEL_QUADBIN, sqlQuery, spatialDataColumn = 'quadbin', queryParameters } = options;
    const urlParameters = {
        aggregationExp,
        q: sqlQuery,
        spatialDataColumn,
        spatialDataType: 'quadbin'
    };
    if (aggregationResLevel) {
        urlParameters.aggregationResLevel = String(aggregationResLevel);
    }
    if (queryParameters) {
        urlParameters.queryParameters = JSON.stringify(queryParameters);
    }
    return baseSource('query', options, urlParameters);
};
