/* eslint-disable camelcase */
import { DEFAULT_AGGREGATION_RES_LEVEL_H3 } from "../constants.js";
import { baseSource } from "./base-source.js";
export const h3QuerySource = async function (options) {
    const { aggregationExp, aggregationResLevel = DEFAULT_AGGREGATION_RES_LEVEL_H3, sqlQuery, spatialDataColumn = 'h3', queryParameters } = options;
    const urlParameters = {
        aggregationExp,
        spatialDataColumn,
        spatialDataType: 'h3',
        q: sqlQuery
    };
    if (aggregationResLevel) {
        urlParameters.aggregationResLevel = String(aggregationResLevel);
    }
    if (queryParameters) {
        urlParameters.queryParameters = JSON.stringify(queryParameters);
    }
    return baseSource('query', options, urlParameters);
};
